{{ define "main" }}
  {{ partial "page-header" . }}


  <section class="section-sm">
    <div class="container">
      <div class="row">
        <div class="md:col-10 lg:col-8 mx-auto">
          <div class="mb-8 text-center">
            <p class="text-lg text-text dark:text-darkmode-text">
              {{ .Content }}
            </p>
          </div>

          <!-- Success Message (hidden by default) -->
          <div
            id="success-message"
            class="hidden bg-primary/10 border-2 border-primary rounded-lg p-8 text-center mb-8">
            <div class="text-6xl mb-4">âœ“</div>
            <h3 class="text-2xl font-bold text-primary mb-4">
              Thank You for Reaching Out!
            </h3>
            <p class="text-lg text-text dark:text-darkmode-text mb-2">
              I've received your message and will get back to you as soon as
              possible.
            </p>
            <p class="text-text-light dark:text-darkmode-text-light">
              Usually within 24-48 hours during business days.
            </p>
          </div>

          <!-- Contact Form -->
          <form
            id="contact-form"
            action="{{ site.Params.contact_form_action }}"
            method="POST"
            class="bg-light dark:bg-darkmode-light rounded-lg p-8">
            <input
              type="hidden"
              name="_next"
              value="{{ .Permalink }}?success=true" />
            <input
              type="hidden"
              name="_subject"
              value="New Contact Form Submission" />
            <input type="hidden" name="_captcha" value="false" />

            <div class="mb-6">
              <label for="name" class="form-label">
                Full Name <span class="text-red-500">*</span>
              </label>
              <input
                id="name"
                name="name"
                class="form-input"
                placeholder="John Doe"
                type="text"
                required />
            </div>

            <div class="mb-6">
              <label for="email" class="form-label">
                Email Address <span class="text-red-500">*</span>
              </label>
              <input
                id="email"
                name="email"
                class="form-input"
                placeholder="john.doe@email.com"
                type="email"
                required />
            </div>

            <div class="mb-6">
              <label for="company" class="form-label">
                Company / Organization
              </label>
              <input
                id="company"
                name="company"
                class="form-input"
                placeholder="Acme Inc."
                type="text" />
            </div>

            <div class="mb-6">
              <label for="inquiry_type" class="form-label">
                Type of Inquiry <span class="text-red-500">*</span>
              </label>
              <select
                id="inquiry_type"
                name="inquiry_type"
                class="form-input"
                required>
                <option value="">Select an option</option>
                <option value="job_opportunity">Job Opportunity</option>
                <option value="consulting">
                  Consulting / Freelance Project
                </option>
                <option value="collaboration">
                  Collaboration / Partnership
                </option>
                <option value="speaking">Speaking / Workshop</option>
                <option value="mentorship">Mentorship Request</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="mb-6">
              <label for="subject" class="form-label">
                Subject <span class="text-red-500">*</span>
              </label>
              <input
                id="subject"
                name="subject"
                class="form-input"
                placeholder="Brief subject line"
                type="text"
                required />
            </div>

            <div class="mb-6">
              <label for="message" class="form-label">
                Message <span class="text-red-500">*</span>
              </label>
              <textarea
                id="message"
                name="message"
                class="form-input"
                placeholder="Tell me more about your inquiry, project details, timeline, budget (if applicable), or any specific requirements..."
                rows="8"
                required></textarea>
            </div>

            <div class="mb-6">
              <label for="timeline" class="form-label">
                Expected Timeline / Start Date
              </label>
              <input
                id="timeline"
                name="timeline"
                class="form-input"
                placeholder="e.g., Immediate, Within 2 weeks, Next month"
                type="text" />
            </div>

            <button type="submit" class="btn btn-primary w-full">
              <span>Send Message</span>
              <i class="fa fa-paper-plane pl-2"></i>
            </button>
          </form>

          <div
            class="mt-8 text-center text-sm text-text-light dark:text-darkmode-text-light">
            <p>You can also reach me directly at:</p>
            <div class="mt-4 flex flex-wrap justify-center gap-4">
              <a
                href="mailto:deepakvbansode@gmail.com"
                class="inline-flex items-center text-primary hover:underline">
                <i class="fa fa-envelope mr-2"></i>
                deepakvbansode@gmail.com
              </a>
              <a
                href="https://www.linkedin.com/in/deepak-bansode-506a25120/"
                target="_blank"
                rel="noopener"
                class="inline-flex items-center text-primary hover:underline">
                <i class="fab fa-linkedin mr-2"></i>
                LinkedIn Profile
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Check if redirected with success parameter
    window.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get("success") === "true") {
        // Hide form and show success message
        document.getElementById("contact-form").style.display = "none";
        document.getElementById("success-message").classList.remove("hidden");

        // Scroll to success message
        document
          .getElementById("success-message")
          .scrollIntoView({ behavior: "smooth", block: "center" });

        // Clean URL (remove success parameter)
        const cleanUrl = window.location.pathname;
        window.history.replaceState({}, document.title, cleanUrl);
      }
    });
  </script>
{{ end }}
